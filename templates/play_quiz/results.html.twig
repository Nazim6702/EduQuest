{% extends 'base.html.twig' %}
{% block title %}R√©sultat du Quiz{% endblock %}

{% block body %}
    <section class="result-summary" style="text-align:center; padding:40px;">
        <h1>üéâ Fin du quiz : "{{ quiz.title }}"</h1>
        <p>Voici un r√©capitulatif de vos r√©ponses :</p>

        <div class="recap">
            {% for question in quiz.questions %}
                {% set status = app.session.get('quiz_progress_' ~ quiz.id)[question.id] ?? 'pending' %}
                <div class="recap-item {{ status }}">
                    <p><strong>Q{{ loop.index }} : {{ question.texte }}</strong></p>
                    {% if status == 'correct' %}
                        ‚úÖ Bonne r√©ponse
                    {% elseif status == 'wrong' %}
                        ‚ùå Mauvaise r√©ponse
                    {% else %}
                        ‚è≥ Non r√©pondu
                    {% endif %}
                </div>
            {% endfor %}
        </div>

        <a href="{{ path('app_home') }}" class="btn">Retour √† l'accueil</a>
    </section>

    <style>
        .recap-item {
            margin: 10px auto;
            padding: 10px;
            border: 1px solid #ccc;
            width: 80%;
            border-radius: 8px;
        }

        .recap-item.correct {
            border-color: #4caf50;
            background: #e8f5e9;
        }

        .recap-item.wrong {
            border-color: #f44336;
            background: #ffebee;
        }

        .recap-item.pending {
            border-color: #9e9e9e;
            background: #eeeeee;
        }
    </style>
{% endblock %}
