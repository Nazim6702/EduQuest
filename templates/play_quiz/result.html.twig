{% extends 'base.html.twig' %}
{% block title %}RÃ©sultat{% endblock %}

{% block body %}
    <section style="text-align:center; padding:40px;">
        {% if result is same as(true) %}
            <h2 style="color:#4caf50; font-size: 24px;">âœ… Bonne rÃ©ponse !</h2>
        {% elseif result is same as(false) %}
            <h2 style="color:#f44336; font-size: 24px;">âŒ Mauvaise rÃ©ponse</h2>
        {% else %}
            <h2 style="color:#ffa000; font-size: 24px;">â° Temps Ã©coulÃ©</h2>
        {% endif %}

        <div id="feedback-message" style="margin-top: 20px; font-size: 18px; font-style: italic; color: #3949ab;"></div>

        <div style="margin-top: 40px;">
            {% if isLast %}
                <a href="{{ path('app_quiz_results', { id: quizId }) }}" class="btn-next" style="
                    background-color: #0044cc;
                    color: white;
                    font-size: 18px;
                    padding: 15px 40px;
                    border-radius: 12px;
                    text-decoration: none;
                ">
                    ğŸ“Š Voir les rÃ©sultats
                </a>
            {% else %}
                <div style="margin-top: 60px;">
                    <a href="{{ path('app_quiz_play', { id: quizId, step: nextStep }) }}" class="btn-next" style="
                    background-color: #fbc02d;
                    color: #0044cc;
                    font-size: 18px;
                    padding: 15px 40px;
                    border-radius: 12px;
                    text-decoration: none;
                    font-weight: bold;">
                        â–¶ï¸ Question suivante
                    </a>
                </div>
            {% endif %}
        </div>
    </section>
    <script>

        //
        //      Partie qui sers Ã  l'affichage des messages d'encouragement
        //

        const goodMessages = [
            "Bravo ! ğŸ‰",
            "Excellente rÃ©ponse ! âœ…",
            "Quel gÃ©nie ğŸ˜³",
            "Je te tire mon chapeau",
            "Digne des plus grands ğŸ‘"
        ];

        const badMessages = [
            "Ouch... mauvaise rÃ©ponse ğŸ˜¬",
            "Paaas tout Ã  fait Ã§a... ğŸ˜•",
            "Essaie encore !",
            "Tu feras mieux Ã  la prochaine ğŸ‘",
            "Lache pas les cours ! ğŸ’ª"
        ];

        const timeoutMessages = [
            "Le temps file... â³",
            "Trop tard ğŸ˜“",
            "Soit plus rapide la prochaine fois ğŸƒâ€â™‚ï¸",
            "Il faut cliquer sur le bouton hein",
            "Ã§a passe vite ! ğŸ¢ğŸ¢ğŸ¢"
        ];

        const feedbackEl = document.getElementById('feedback-message');
        let messages = [];

        {% if result is same as(true) %}
        messages = goodMessages;
        {% elseif result is same as(false) %}
        messages = badMessages;
        {% else %}
        messages = timeoutMessages;
        {% endif %}

        const randomMessage = messages[Math.floor(Math.random() * messages.length)];
        feedbackEl.innerText = randomMessage;

    </script>
{% endblock %}
